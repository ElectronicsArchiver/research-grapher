(this["webpackJsonpresearch-grapher"]=this["webpackJsonpresearch-grapher"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r),c=n(25),i=n.n(c),s=n(0),o=n(1),u=n(2),l=n(3),d=n(18),j=n(23),p=n.n(j),b=n(19),h=n(12),O=n(14),f=n(22),x=n(7),v=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("span",{children:"Enter the ID of the paper you are looking for"}),Object(x.jsxs)("form",{name:"paper-info",onSubmit:function(e){e.preventDefault();var t=document.getElementById("text-input").value,n=document.querySelector('input[name="paperType"]:checked');null===n?O.a.dispatch({type:"SEND_TOAST",toast:"Please select a paper type"}):(n=n.value,f.Modal.getInstance(document.getElementById("searchbuttonmodal")).close(),"doi"===n||"semanticscholar"===n?O.a.dispatch({type:"UPDATE_PAPER_ID",id:t}):"arxiv"===n&&O.a.dispatch({type:"UPDATE_PAPER_ID",id:n+":"+t}))},children:[Object(x.jsx)("input",{placeholder:"Enter paper Id ",autoFocus:!0,id:"text-input",name:"paper-id-text"}),Object(x.jsx)("p",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{name:"paperType",type:"radio",value:"arxiv"}),Object(x.jsx)("span",{children:"Arxiv"})]})}),Object(x.jsx)("p",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{name:"paperType",type:"radio",value:"doi"}),Object(x.jsx)("span",{children:"DOI"})]})}),Object(x.jsx)("p",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{name:"paperType",type:"radio",value:"semanticscholar"}),Object(x.jsx)("span",{children:"SemanticScholar Paper Id"})]})}),Object(x.jsx)("input",{type:"submit",value:"Submit",className:"btn black white-text"})]})]})};var g=function(){return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsx)("div",{className:"navbar-fixed ",children:Object(x.jsx)(h.Navbar,{className:"black",alignLinks:"right",brand:Object(x.jsx)("span",{className:"brand-logo",children:"Research Grapher"}),children:Object(x.jsx)(y,{})})})})},y=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(x.jsx)(h.NavItem,{children:Object(x.jsx)(h.Modal,{id:"searchbuttonmodal",actions:[Object(x.jsx)(h.Button,{flat:!0,modal:"close",node:"button",waves:"green",children:"Close"})],trigger:Object(x.jsx)(h.Icon,{class:"material-icons-outlined",children:"note_add"}),children:Object(x.jsx)(v,{})})})}}]),n}(r.Component),m=n(11),E=function(e){var t=e.paper,n={URL:"https://arxiv.org/abs/"+t.arxivId,location_name:"arXiv",paperId:t.arxivId},r={URL:"https://doi.org/"+t.doi,location_name:"doi",paperId:t.doi},a={URL:t.url,location_name:"SemanticScholar",paperId:t.paperId};return Object(x.jsxs)("div",{children:["Authors : ",t.authors?S(t):"Unknown",Object(x.jsx)("br",{}),"Year : ",t.year?t.year:"Unknown",Object(x.jsx)("br",{}),Object(x.jsx)(_,{abstract:t.abstract}),"Venue : ",t.venue?t.venue:"Unknown",Object(x.jsx)("br",{}),Object(x.jsx)("h6",{children:"Links:"}),t.arxivId?Object(x.jsx)(T,Object(m.a)({},n)):null,t.doi?Object(x.jsx)(T,Object(m.a)({},r)):null,t.url?Object(x.jsx)(T,Object(m.a)({},a)):null]})},T=function(e){return Object(x.jsxs)("div",{children:[e.location_name," :",Object(x.jsxs)("a",{href:e.URL,target:"_blank",rel:"noopener noreferrer",children:[e.paperId,Object(x.jsx)(h.Icon,{children:"open_in_new"})]})]})};function _(e){return e.abstract?Object(x.jsxs)("div",{children:[" Abstract : ",e.abstract," "]}):null}function S(e){return e.authors.map((function(e){return e.name})).join(", ")}var D=function(){var e=Object(b.b)(),t=Object(r.useState)(null),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Object(b.c)((function(e){return e.graphReducer.currently_selected_node}));return Object(r.useEffect)((function(){i&&c(i.attributes)}),[i]),Object(x.jsx)(h.Button,Object(m.a)(Object(m.a)({},P),{},{onClick:function(t){var n;a.arxivId?n="arxiv:"+a.arxivId:a.doi?n=a.doi:a.paperId&&(n=a.paperId),e({type:"UPDATE_PAPER_ID",id:n})},tooltip:"Preview the paper in the PDF Window",tooltipOptions:{position:"top"},className:"orange-text",children:"Load Paper"}))},P={flat:!0,modal:"close",node:"button",waves:"light"},R=a.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,222))})),A=a.a.lazy((function(){return n.e(5).then(n.bind(null,219))})),I=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=p()(O.a.getState,"paperReducer.paper");O.a.subscribe(e((function(e,t,n){return null!==e&&!1!==e?c(!0):null})))})),Object(x.jsxs)(a.a.Fragment,{children:[Object(x.jsx)(g,{}),n?Object(x.jsx)(N,{}):Object(x.jsx)(G,{})]})},k=function(e){return Object(x.jsxs)(h.Col,{l:6,children:[Object(x.jsx)(C,{}),Object(x.jsx)(U,{})]})},N=function(e){return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(h.Row,{children:[Object(x.jsx)(h.Col,{l:6,children:Object(x.jsx)(F,{})}),Object(x.jsx)(k,{})]})})},C=function(e){var t=Object(r.useState)(O.a.getState().paperReducer.paper),n=Object(d.a)(t,2),a=n[0],c=n[1],i=Object(b.c)((function(e){return e.paperReducer.paper}));return Object(r.useEffect)((function(){return c(i)}),[i]),Object(x.jsxs)(h.Card,{title:"Recently loaded paper",children:[Object(x.jsxs)("span",{children:["Title : ",a.title]}),Object(x.jsx)(E,{paper:a})]})},U=function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(h.ProgressBar,{}),children:Object(x.jsx)(A,{})})},w=function(){return Object(x.jsx)(r.Suspense,{fallback:Object(x.jsx)(h.ProgressBar,{}),children:Object(x.jsx)(R,{})})},G=function(){return Object(x.jsx)(h.Container,{children:Object(x.jsx)(h.CardPanel,{className:"large",children:Object(x.jsx)(v,{})})})},L=function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(b.c)((function(e){return e.graphReducer.currently_selected_node}));return Object(r.useEffect)((function(){i&&c(i.attributes)}),[i]),Object(x.jsx)(a.a.Fragment,{children:i&&n&&Object(x.jsxs)(h.Card,{title:"Selected Node",actions:Object(x.jsx)(D,{}),children:[Object(x.jsxs)("span",{children:["Title : ",n.title]}),Object(x.jsx)(E,{paper:n})]})})},F=function(){return Object(x.jsx)(a.a.Fragment,{children:Object(x.jsxs)(h.Row,{children:[Object(x.jsx)(w,{}),Object(x.jsx)(L,{})]})})},B=(n(106),n(107),function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){f.AutoInit()}},{key:"render",value:function(){return Object(x.jsx)(I,{})}}]),n}(r.Component)),H=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,220)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(b.a,{store:O.a,children:Object(x.jsx)(B,{})})}),document.getElementById("root")),H()},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(24),a=n(11),c=n(52);var i=n(53),s=n(48),o=n(23),u=n.n(o);var l=n(47),d=n(22),j=n.n(d);var p=Object(r.createStore)(Object(r.combineReducers)({graphReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{graph:new c.DirectedGraph,currently_selected_node:null,isUpdating:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GRAPH_UPDATE_STARTED":return Object(a.a)(Object(a.a)({},e),{},{isUpdating:!0});case"UPDATE_GRAPH":return Object(a.a)(Object(a.a)({},e),{},{graph:t.graph});case"GRAPH_UPDATE_FINISHED":return Object(a.a)(Object(a.a)({},e),{},{isUpdating:!1});case"UPDATE_CURRENTLY_SELECTED_NODE":return Object(a.a)(Object(a.a)({},e),{},{currently_selected_node:t.node});default:return e}},toastReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{toast:""},t=arguments.length>1?arguments[1]:void 0;return"SEND_TOAST"===t.type?Object(a.a)(Object(a.a)({},e),{},{toast:t.toast}):e},paperReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{paper:"",id:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_PAPER":return Object(a.a)(Object(a.a)({},e),{},{paper:t.paper});case"UPDATE_PAPER_ID":return Object(a.a)(Object(a.a)({},e),{},{id:t.id});default:return e}}}),Object(i.composeWithDevTools)());!function(){var e=u()(p.getState,"paperReducer.id");p.subscribe(e((function(e,t,n){e!==t&&function(e){return fetch("https://api.semanticscholar.org/v1/paper/"+e).then((function(e){return e.json()}),(function(e){p.dispatch({type:"SEND_TOAST",toast:"Failed to connect to the API"})}))}(e).then((function(e){void 0===e||(e.url?(p.dispatch({type:"SEND_TOAST",toast:"Loading paper please wait"}),p.dispatch({type:"UPDATE_PAPER",paper:e})):e.error?p.dispatch({type:"SEND_TOAST",toast:e.error}):p.dispatch({type:"SEND_TOAST",toast:"The paper ID seems appreas to be wrong"}))}))})))}(),function(){var e=u()(p.getState,"paperReducer.paper");p.subscribe(e((function(e,t,n){if(e!==t){var r=e.citations,a=e.references,c=Object(s.a)(e,["citations","references"]);l.b.updateStoreGraph(c,r,a)}})))}(),function(){var e=u()(p.getState,"toastReducer.toast");p.subscribe(e((function(e,t,n){e?j.a.toast({html:e}):j.a.toast({html:t})})))}()},47:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(11),a=n(0),c=n(1),i=n(26),s=n(14),o=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,null,[{key:"addCitationsWithEdgesToGraph",value:function(e,t,n){e.forEach((function(e){t.mergeNode(e.title,Object(r.a)(Object(r.a)({},e),{},{isCitation:!0})),t.mergeDirectedEdge(e.title,n.title,{type:"cites"})}))}},{key:"addReferencesWithEdgesToGraph",value:function(e,t,n){e.forEach((function(e){t.mergeNode(e.title,Object(r.a)(Object(r.a)({},e),{},{isReference:!0})),t.mergeDirectedEdge(n.title,e.title,{type:"refers"})}))}},{key:"updateStoreGraph",value:function(e,t,n){var r=s.a.getState().graphReducer.graph;e.numCitedBy>50&&s.a.dispatch({type:"SEND_TOAST",toast:"High Citation Count detected system may lag"}),r.mergeNode(e.title,e),this.addReferencesWithEdgesToGraph(n,r,e),this.addCitationsWithEdgesToGraph(t,r,e),s.a.dispatch({type:"GRAPH_UPDATE_STARTED"}),s.a.dispatch({type:"UPDATE_GRAPH",graph:r}),s.a.dispatch({type:"GRAPH_UPDATE_FINISHED"})}}]),e}(),u=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,null,[{key:"convertToD3Graph",value:function(e){var t=this;return e=this.convertGraphologyToD3Graph(e),(e=this.convertToD3StyleLabeledLinks(e)).nodes.map((function(e){return t.decorateNodes(e)})),e}},{key:"decorateNodes",value:function(t){return e.colorCodeNodes(t),e.reshapeBasedOnCitations(t),t}},{key:"reshapeBasedOnCitations",value:function(e){e.attributes.isReference?e.geometry=new i.q(10,10,10):e.attributes.isCitation?e.geometry=new i.f(10,20,10):e.geometry=new i.b(10,10,10)}},{key:"colorCodeNodes",value:function(e){e.attributes.arxivId?(e.node_color="#d500f9",e.text_color="#3d5afe"):e.attributes.doi||e.attributes.url?(e.node_color="#13EC40",e.text_color="#FEE13D"):e.color="red"}},{key:"convertGraphologyToD3Graph",value:function(e){return JSON.parse(JSON.stringify(e.toJSON()).split('"edges":').join('"links":').split('"key":').join('"id":'))}},{key:"convertToD3StyleLabeledLinks",value:function(e){return e.links=e.links.map((function(e){return{source:e.source,target:e.target,label:e.attributes.type}})),e}}]),e}()}},[[108,1,2]]]);
//# sourceMappingURL=main.45c851b5.chunk.js.map